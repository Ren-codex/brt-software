- [x] Add `use App\Models\ArInvoice;` to SalesOrderClass.php
- [x] Wrap the save method in DB::transaction
- [x] Implement invoice creation after updating sales order totals
- [x] Test the save functionality (skipped per user request)
- [x] Add total_discount to ar_invoices table
- [x] Update ArInvoice model fillable and casts
- [x] Update ArInvoiceClass and SalesOrderClass to save total_discount in invoice
